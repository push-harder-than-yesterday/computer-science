## DeadLock(데드락)

### 데드락

프로세스가 자원을 얻지 못해 다음 처리를 하지 못하는 상태로 '교착 상태' 라고도 부른다. 시스템적으로 한정된 자원을 여러 곳에서 사용하려고 할 때 발생하게 된다. `프로세스 1`이 `A 자원`을 얻고 `프로세스 2` 가 `B 자원` 을 얻은 상태에서 서로의 자원이 필요하게 되었을 때에 `프로세스 1` 은 `B 자원` 을 얻기 위해 대기하고 `프로세스 2` 는 `A 자원` 을 얻기위해 기다리게 되며 서로를 무한정 기다리게 되는 것을 데드락이라고 한다. 주로 멀티 프로그래밍 환경에서 발생하게 된다.

### 발생 조건

* **상호 배제**: 자원은 한번에 한 프로세스만 사용할 수 있다.
* **점유 대기**: 최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에서 할당되어 사용하고 있는 자원을 추가로 점유하기 위해 대기하는 프로세스가 존재해야 한다.
* **비선점**: 다른 프로세스에 할당된 자원은 사용이 끝날 때 까지 강제로 빼앗을 수 없다.
* **순환 대기**: 프로세스의 집합에서 순환 형태로 자원을 대기하고 있어야 한다.

### 해결 방법

- 예방
  - 발생 조건 네가지를 동시에 충족해야 데드락이 발생하기 때문에 그 중 하나라도 발생하지 않도록 시스템 차원에서 막아버리면 해결
  - 그런데 이 방법은 대부분 자원이 낭비되는 경향이 있다. 애초에 발생 가능성을 원천봉쇄 하려면 성능이 나빠지거나 또 다른 문제를 야기할 수도 있음
- 회피
  - 은행원 알고리즘
    - 프로세스가 자원을 요구하는 시점에 자원을 할당해도 안전한지를 검사하여 데드락을 막는 방법
- 탐지와 회복
  - 교착상태가 발생하는 것을 아예 막지조차 않음. 발생하면 그때서야 해결
- 무시
  - 거의 무시해도 좋을 확률로 데드락이 발생한다고 판단되면 그냥 무시
  - 왜냐하면 데드락 문제는 해결하려면 성능상 손해를 봐야하기 때문