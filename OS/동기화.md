## 동기화

프로세스 또는 스레드들이 수행되는 시점을 조절하여 서로가 알고 있는 정보가 일치하는 것을 의미한다.  

컴퓨터는 프로세스 또는 스레드로 작업을 실행한다. 예를 들어, a = 10이라는 자원이 있다고 가정해보자. P1이라는 프로세스는 a라는 값을 이용하여 5를 더하는 로직을 수행한다. 그런데 만약, 그 사이 P2라는 프로세스가 a의 값을 20으로 바꾸게 된다면 어떻게 될까? 값은 P1이 수행한 15가 되는 것일까, P2가 20으로 바꾸고 P1이 5를 더해서 25가 되는 걸까?  
아마 정확한 값을 반환하지 않을 것이다.



위에서 a를 **공유 자원** 이라 말한다. 이렇게 두 개 이상의 프로세스 혹은 스레드가 동기화 없이 접근하려는 현상을 race condition(경쟁 상태)라고 한다. 그리고 이러한 문제를 해결하는 것, 즉, 서로가 알고 있는 정보를 일치시키려는 것을 synchronization(동기화)라고 한다.



## 임계영역 접근 동기화

#### 임계 영역(critical section)

둘 이상의 스레드가 동시에 실행될 경우 동시 접근 문제를 발생시킬 수 있는 코드 블록이며, **공유되는 자원에서 문제가 발생하지 않도록 독점을 보장해주는 영역이다.**



따라서 임계 영역에서는 한번에 하나의 쓰레드만 사용 가능하다. 프로세스 내에 여러 스레드가 있는 환경에서, 임계 영역에 어떤 스레드가 먼저 진입하여 임계 영역을 벗어나지 않은 상태에서는 동일 프로세스의 다른 스레드가 해당 임계영역에 접근하는 것을 금지한다.



따라서 임계 영역에 동시 접근하게 되면 발생하는 문제를 방지하기 위해 동기화를 위한 방법이 필요하다.



<!-- 임계 영역(critical section)이란, 둘 이상의 쓰레드가 동시에 실행될 경우 동시 접근 문제를 발생시킬 수 있는 코드 블록을 말한다. 따라서 임계 영역에서는 한 번에 하나의 '쓰레드'에서만 사용이 가능하다. 프로세스 내에 여러 쓰레드가 있는 환경에서, 설정해둔 크리티컬 영역에 어떤 쓰레드가 먼저 진입하여 크리티컬 영역을 벗어나지 않은 상태에서는 동일 프로세스의 다른 쓰레드가 해당 크리티컬 영역에 진입하는 것을 금지한다. 후발 쓰레드의 '크리티컬 섹션' 진입금지 방식에 '리턴' 혹은 '대기'를 설정할 수 있다. '대기'란 진입해있던 쓰레드가 해당 영역을 벗어날 때까지 후발 쓰레드는 '대기' 상태로 있다가,선진입한 쓰레드가 해당영역에서 벗어나면 대기중인 후발 쓰레드가 크리티컬 영역을 실행하는 것이다.'리턴' 이란 후발 쓰레드는 '대기' 상태에 있지 않고, '리턴'되어 크리티컬 영역을 실행하지 않는 방식이다.정리하자면 임계영역 접근 동기화란 동시 접근을 하게되면 발생하는 문제를 예방하기 위해 동시 접근을 예방하는 동시에 한 번에 하나의 쓰레드만 임계영역에 접근할 수 있도록 하는 것이다. -->